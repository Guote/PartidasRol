{"_id":"3dcjvMVoT5w4Oiyk","name":"TokenMagic - Ghostly Shape","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.GBlpBOoV4TW8zcW2"}},"scope":"global","command":"let params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"/modules/tokenmagic/fx/assets/distortion-1.png\",\n    maskSpriteScaleX: 10,\n    maskSpriteScaleY: 10,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: 0.05, animType: \"move\" },\n        maskSpriteY: { active: true, speed: 0.07, animType: \"move\" }\n    }\n},\n{\n    filterType: \"adjustment\",\n    filterId: \"myAdjust\",\n    saturation: 1,\n    brightness: 1,\n    contrast: 1,\n    gamma: 1,\n    red: 0.5,\n    green: 2,\n    blue: 2,\n    alpha: .9,\n    animated:\n    {\n        alpha: \n        { \n           active: true, \n           loopDuration: 2000, \n           animType: \"syncCosOscillation\",\n           val1: 0.8,\n           val2: 1 }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/ghostly-image_100dpi.webp","actorIds":[]}
{"_id":"IcdeIFB5b0vurJDm","name":"Parallaxia On","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.T0UQmNMegEWc8R5V"}},"scope":"global","command":"let updates = canvas.tiles.placeables.filter(t => t.data.flags.parallaxia).map(t => {\n  return {\n    _id: t.id,\n    'flags.parallaxia.isTarget': true,\n  }\n});\ncanvas.tiles.updateMany(updates)","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/parallaxia-on_100dpi.webp","actorIds":[]}
{"_id":"KBP1dVN0tosXaOt4","name":"TokenMagic - Water Ripple","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.cw7LR6iT3Dz0eYMC"}},"scope":"global","command":"// you can change the mask of the filter\n// the mask must have a power of 2 h and w (512x512, 128x128, ...) \n// the distortion applies on black and white and shades of grey\n// after testing the first version of this macro try this :\n// -> maskPath: \"/modules/tokenmagic/fx/assets/waves-2.png\"\n\nlet params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"/modules/tokenmagic/fx/assets/distortion-1.png\",\n    maskSpriteScaleX: 8,\n    maskSpriteScaleY: 8,\n    padding: 20,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: .05, animType: \"move\" },\n        maskSpriteY: { active: true, speed: .07, animType: \"move\" }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/water-ripple_100dpi.webp","actorIds":[]}
{"name":"trap-grass-drop","type":"script","author":"PBVa1hNTvoZt1EqE","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\n\ntrigger_trap();\n\n        // Play the sound of a trap for all players\n        AudioHelper.play({src: \"modules/baileywiki-maps/sounds/trap-grass.mp3\", volume: 0.4, autoplay: true, loop: false}, true);;","folder":null,"sort":0,"permission":{"default":0,"PBVa1hNTvoZt1EqE":3},"flags":{"core":{"sourceId":"Macro.w7iZ16rZ2cfqktj2"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.eEuJHxR5GuKw81OZ","hash":"bb899f0ef790b43b0f857bb2f33b85ef5f9d0d91"}},"_id":"LgCXFamIa2yLivjj"}
{"name":"Token Magic - Drop Shadow Tokens","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"core":{"sourceId":"Macro.lDkm1Hq0NAP6FUbc"}},"scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 10,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps-premium/maps/icons/drop-shadow-small_100dpi.webp","actorIds":[],"_id":"OToSOXV477X12pW9"}
{"_id":"PjLst70uZ4I9JxkA","name":"TokenMagic - Drop Shadow Tall","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IpODNhUtTlTwyRiO"}},"scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 50,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/drop-shadow-tall_100dpi.webp","actorIds":[]}
{"name":"trap-grass-impact","type":"script","author":"PBVa1hNTvoZt1EqE","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\nasync function play_sound(){\n        await AudioHelper.play({src: \"modules/baileywiki-maps/sounds/trap-grass.mp3\", volume: 0.4, autoplay: true, loop: false}, true);;\n        AudioHelper.play({src: \"modules/baileywiki-maps/sounds/impact-big.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n    }\n\nplay_sound();","folder":null,"sort":0,"permission":{"default":0,"PBVa1hNTvoZt1EqE":3},"flags":{"core":{"sourceId":"Macro.8CKbFfdxhA2Y9Wab"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"sourceId":"Macro.pji2EJMzAoY48fQa","hash":"49e80e585a377ccd7aad70565b145514cc39b5ca"}},"_id":"RVvbAZTRcErBCVSa"}
{"_id":"SN15Kx1Smu5QCxpP","name":"walking-water","type":"script","author":"PBVa1hNTvoZt1EqE","img":"icons/svg/sound.svg","scope":"global","command":"//Contributed by j0eNinj4 and elezraita on the discord. An upgraded version of the walking-water macro that plays entry, exit, and movement sounds in water areas.\n\nif (event === MLT.MOVE) {\n// Play the sound of wading through water for all players\nfunction mm_audio(){\n    let soundHome = \"modules/baileywiki-maps/sounds/\";\n    let soundFile = [\n        `water-wade-01.ogg`,\n        `water-wade-02.ogg`,\n        `water-wade-03.ogg`,\n        `water-wade-04.ogg`,\n        `water-wade-05.ogg`,\n        `water-wade-06.ogg`,\n        `water-wade-07.ogg`\n    ];\n    let random = Math.floor(Math.random() * (soundFile.length));\n    AudioHelper.play({src: soundHome + soundFile[random], volume: 0.25\n, autoplay: true, loop: false}, true);\n}\nmm_audio();\n}\nelse if (event === MLT.ENTER) {\n// Play the sound of water entering for all players\nAudioHelper.play({src: \"modules/baileywiki-maps/sounds/WaterEnter.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}\nelse if (event === MLT.LEAVE) {\n// Play the sound of water leaving for all players\nAudioHelper.play({src: \"modules/baileywiki-maps/sounds/WaterStepOut.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}","folder":null,"sort":0,"permission":{"default":0,"PBVa1hNTvoZt1EqE":3},"flags":{"core":{"sourceId":"Macro.e1rRKrrkvfVR9X8s"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.KjBfVt39BuuZM8pB","hash":"7556179b0a384fea4291a804f6d59d498be0a050"},"advanced-macros":{"runAsGM":false}}}
{"_id":"j43UXlPPUIdTLQHz","name":"Parallaxia Off","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.8wIHt7aVTn0pyYfx"}},"scope":"global","command":"let updates = canvas.tiles.placeables.filter(t => t.data.flags.parallaxia).map(t => {\n  return {\n    _id: t.id,\n    'flags.parallaxia.isTarget': false,\n  }\n});\ncanvas.tiles.updateMany(updates)","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/parallaxia-off_100dpi.webp","actorIds":[]}
{"name":"leaves-rustling-freeversion","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"core":{"sourceId":"Macro.hzHiBAsi4ZXMjB1R"}},"scope":"global","command":"if (event === MLT.MOVE) {\n// Play the sound of a leaves rustling for all players\nAudioHelper.play({src: \"modules/baileywiki-maps/sounds/rustling-grass04.ogg\", volume: 0.08, autoplay: true, loop: false}, true);; \n}","author":"YwtI0H1etkF76X7T","img":"icons/svg/sound.svg","actorIds":[],"_id":"p3MQcVfOwrvKxI0S"}
{"_id":"rKhOA56RilM2eG4M","name":"TokenMagic - Delete filters on Selected","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.zEhNEymmv4FYxMMo"}},"scope":"global","command":"// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/delete-filters_100dpi.webp","actorIds":[]}
{"_id":"teABuFhfOFF8Cyh2","name":"Token Magic - Drop Shadow Flying","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.2sA43tjQKKUxGtkP"}},"scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 40,\n    quality: 10,\n    distance: 100,\n    alpha: 0.5,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/drop-shadow-flying_100dpi.webp","actorIds":[]}
{"_id":"xlZ3wtOxK2Xrxp3V","name":"Token Magic - Drop Shadow","permission":{"default":0,"YwtI0H1etkF76X7T":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.5v31mhcPcfs0NKzr"}},"scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 20,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"YwtI0H1etkF76X7T","img":"modules/baileywiki-maps/maps/icons/drop-shadow-small_100dpi.webp","actorIds":[]}
