{
  "version": 3,
  "sources": ["../src/config.mjs", "../src/common.mjs", "../src/overlay.mjs", "../src/audio.mjs", "../src/setup.mjs", "../src/compat.mjs", "../src/combat.mjs", "../src/ready-up.mjs"],
  "sourcesContent": ["/* Common keys. DO NOT MODIFY!*/\n\nexport const CFG = {\n\tid: 'koboldworks-ready-up',\n\tSETTINGS: {\n\t\tvolumeKey: 'volume',\n\t\tlingerKey: 'linger',\n\t\tnotifyKey: 'notify',\n\t\tstickyKey: 'sticky',\n\t\tspamWardKey: 'spamGuard',\n\t\tturnStartMessage: 'turnStart',\n\t\tnextUpMessage: 'nextUp',\n\t}\n};\n", "import { CFG } from './config.mjs';\n\nexport const getPath = (file) => `modules/${CFG.id}/sounds/${file}`;\n", "import { CFG } from './config.mjs';\n\nconst active = 'active', hidden = 'hidden', ghosted = 'ghosted', nextUp = 'next', turnStart = 'now';\n\nexport class Overlay {\n\t#overlay = document.createElement('div');\n\tdismissable = false;\n\ttimerId;\n\n\t#labelNext;\n\t#labelNow;\n\n\tconstructor() {\n\t\tthis.#overlay.id = `${CFG.id}-overlay`;\n\t\t// this._overlay.classList.add(ghosted);\n\t\tthis.#labelNext = document.createElement('label');\n\t\tthis.#labelNow = document.createElement('label');\n\t\tconst _container = document.createElement('div');\n\t\tthis.#labelNow.id = `${CFG.id}-now`;\n\t\tthis.#labelNow.textContent = game.i18n.localize('Koboldworks.ReadyUp.YourTurn')\n\t\tthis.#labelNext.id = `${CFG.id}-next`;\n\t\tthis.#labelNext.textContent = game.i18n.localize('Koboldworks.ReadyUp.NextUp');\n\t\t_container.classList.add('container');\n\t\t_container.append(this.#labelNow, this.#labelNext);\n\t\tthis.#overlay.append(_container);\n\t\tthis.#overlay.classList.add(hidden);\n\t\tdocument.body.append(this.#overlay);\n\n\t\t// $(this._overlay).on('transitionend', this._transitionEnd);\n\t}\n\n\tresetTimer() {\n\t\tclearTimeout(this.timerId);\n\t\tthis.timerId = undefined;\n\t}\n\n\tresize() {\n\t\tconst sbc = getComputedStyle(document.getElementById('sidebar'));\n\t\tthis.#overlay.style.width = `calc(100% - ${sbc.width} - ${sbc.right})`; // render over all but the side bar\n\t}\n\n\tdisplayTime = Date.now();\n\tboundDismiss = this.dismiss.bind(this); // for event listener nonsense\n\n\tremoveClickListener() {\n\t\tdocument.getElementById('board').removeEventListener('click', this.boundDismiss);\n\t}\n\n\t/*\n\t_transitionEnd(ev) {\n\t\tconsole.log(this);\n\t\tconst s = getComputedStyle(ev.target);\n\t\tconst opacity = parseFloat(s.opacity) ?? 1;\n\t}\n\t*/\n\n\tdismiss(ev) {\n\t\tif (Date.now() - this.displayTime < 250) return; // Ignore clicks too soon after displaying.\n\n\t\tthis.dismissable ? this.hide() : this.ghost();\n\n\t\tconst o = this.#overlay;\n\t\tif (!o.classList.contains(ghosted)) {\n\t\t\t// Prevent event bubbling\n\t\t\tev?.preventDefault();\n\t\t\tev?.stopPropagation();\n\t\t}\n\t}\n\n\thide() {\n\t\tthis.resetTimer();\n\t\tthis.removeClickListener();\n\t\tconst o = this.#overlay;\n\t\to.classList.remove(active);\n\t\to.classList.add(hidden);\n\t}\n\n\tshow({ now = false, dismissable = false, combatant = null, nextCombatant = null }) {\n\t\tthis.displayTime = Date.now();\n\n\t\tconst o = this.#overlay;\n\t\tif (now) {\n\t\t\tconst msg = game.settings.get(CFG.id, CFG.SETTINGS.turnStartMessage);\n\t\t\tthis.#labelNow.textContent = msg.replace('{name}', combatant?.name).replace('\\\\n', '\\n');\n\t\t\to.classList.add(turnStart);\n\t\t\to.classList.remove(nextUp);\n\t\t}\n\t\telse {\n\t\t\tconst msg = game.settings.get(CFG.id, CFG.SETTINGS.nextUpMessage);\n\t\t\tthis.#labelNext.textContent = msg.replace('{name}', nextCombatant?.name).replace('\\\\n', '\\n');\n\t\t\to.classList.add(nextUp);\n\t\t\to.classList.remove(turnStart);\n\t\t}\n\n\t\tconst sticky = game.settings.get(CFG.id, CFG.SETTINGS.stickyKey);\n\t\tthis.dismissable = sticky && dismissable || !sticky;\n\t\t// o.classList.remove(ghosted);\n\t\tthis.resize();\n\n\t\tdocument.getElementById('board').addEventListener('click', this.boundDismiss);\n\n\t\to.classList.remove(ghosted);\n\t\to.classList.add(active);\n\t\to.classList.remove(hidden);\n\n\t\tconst linger = game.settings.get(CFG.id, CFG.SETTINGS.lingerKey);\n\t\tif (linger > 0.1) {\n\t\t\tthis.resetTimer();\n\t\t\tthis.timerId = setTimeout(this.boundDismiss, linger * 1_000);\n\t\t}\n\t}\n\n\tghost() {\n\t\tthis.resetTimer();\n\t\tthis.removeClickListener();\n\t\tconst o = this.#overlay;\n\t\to.classList.add(ghosted);\n\t}\n\n\t/** Reset and remove current overlay */\n\tstatic delete() {\n\t\tconst s = Overlay.instance;\n\t\tif (s) {\n\t\t\ts.resetTimer();\n\t\t\ts.#overlay?.remove();\n\t\t\ts.#overlay = null;\n\t\t}\n\t\tOverlay.instance = null;\n\t}\n\n\t/** @type {undefined|Overlay} */\n\tstatic instance;\n}\n", "import { CFG } from './config.mjs';\n\n/** Default sound config */\nexport const soundCfg = {\n\tturn: { key: 'sfx-turn-file', default: 'turn.unfa.550909.braam.webm' },\n\tround: { key: 'sfx-round-file', default: 'round.halgrimm.169867.swoosh.webm' },\n\tnext: { key: 'sfx-next-file', default: 'next.garyq.135434.industrial-warehouse-lights.webm' }\n};\n\n/**\n * Simplified layer over HTML Audio and Foundry's AudioHelper\n */\nclass SoundProxy {\n\tkey;\n\tfile;\n\taudio;\n\n\tconstructor(key, file, volume = 0.5) {\n\t\tthis.key = key;\n\t\tthis.file = file;\n\n\t\t// this.audio = game.audio.create({ src: file, preload: true }); // doesn't exist?\n\t\tthis.audio = new Audio(file);\n\t\tthis.audio.preload = 'auto';\n\t\tthis.audio.defaultMuted = true;\n\t\tthis.audio.autoplay = false;\n\t\tthis.audio.loop = false;\n\t\tthis.audio.volume = Math.clamped(volume, 0.0, 1.0);\n\n\t\tthis.audio.addEventListener('error', this.errorHandler.bind(this), { passive: true });\n\t\tthis.audio.addEventListener('canplay', this.onLoadBound, { passive: true });\n\t}\n\n\tonLoadBound = this.onLoad.bind(this);\n\t/** Temporary onload handler  */\n\tonLoad() {\n\t\tthis.play = this.playReal;\n\t\tthis.audio.removeEventListener('canplay', this.onLoadBound);\n\t\tif (this.queued) this.play();\n\t\tdelete this.onLoadBound;\n\t\tdelete this.queued;\n\t\tdelete this.onLoad;\n\t}\n\n\terrorHandler() {\n\t\tconst err = this.audio.error;\n\t\tif (err.code === MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED ||\n\t\t\terr.code === MediaError.MEDIA_ERR_NETWORK && this.audio.networkState === 3) {\n\t\t\tconsole.warn(`READY UP | ${this.key} | Failed to load \"${this.file}\"`);\n\t\t}\n\t}\n\n\tset volume(value) {\n\t\tthis.audio.volume = value;\n\t}\n\n\tqueued = false;\n\t/** Temporary until onLoad happens */\n\tplay = function () { this.queued = true; }; // placeholder until loaded\n\n\tasync playReal(volume = null) {\n\t\tif (volume) this.volume = volume;\n\t\t// this.audio.play({ offset: 0, volume: volume ?? this.volume }); // AudioHelper\n\n\t\tif (!this.audio.paused)\n\t\t\tthis.reset();\n\n\t\treturn this.audio.play();\n\t}\n\n\treset() {\n\t\tthis.audio.currentTime = 0;\n\t}\n}\n\nexport const audio = {\n\tnext: undefined,\n\tround: undefined,\n\tturn: undefined,\n};\n\nexport function updateAudioVolume(value) {\n\tconst newVolume = Math.clamped(value / 100, 0.0, 1.0);\n\tconsole.log('READY UP | Volume | Set:', value, '%');\n\tfor (const s of Object.values(audio))\n\t\ts.volume = newVolume;\n}\n\nexport function loadSound(key, file) {\n\taudio[key] = file ? new SoundProxy(key, file, game.settings.get(CFG.id, CFG.SETTINGS.volumeKey) / 100) : null;\n\treturn audio[key];\n}\n\nlet nextSound = -1;\n\n/**\n *\n * @param {Event} ev\n * @param {Element} el\n * @returns\n */\nexport async function audioTest(ev, el) {\n\tev.preventDefault();\n\tev.stopPropagation();\n\n\tconst volumeVal = el.querySelector(`input[name=\"${CFG.id}.volume\"]`).value;\n\tconst volume = parseFloat(volumeVal) / 100;\n\n\tconst cfg = Object.values(soundCfg);\n\tnextSound = (nextSound + 1) % cfg.length;\n\n\tconst key = Object.keys(soundCfg)[nextSound];\n\tconst file = el.querySelector(`input[name=\"${CFG.id}.${cfg[nextSound].key}\"]`)?.value ?? audio[key].file;\n\n\tconst tmp = file ? new SoundProxy('test', file, volume) : null;\n\tif (file) ui.notifications.info(game.i18n.format('Koboldworks.ReadyUp.TestNotify', { key, file: tmp.file, volume: Math.floor(volume * 1_000) / 10 }));\n\telse ui.notifications?.info(`No file specified for ${cfg[nextSound].key} to play it.`);\n\treturn tmp?.play();\n}\n\n// Add sound test button to module config\n/**\n * @param {JQuery} jq\n */\nHooks.on('renderSettingsConfig', (_sheet, jq) => {\n\tconst html = jq[0];\n\tconst p = html.querySelector(`input[name=\"${CFG.id}.volume\"]`)?.parentElement;\n\tconst button = document.createElement('button');\n\tbutton.type = 'button';\n\tbutton.style.cssText += 'margin-left:3px;width:4em;';\n\tbutton.textContent = game.i18n.localize('Koboldworks.ReadyUp.Test');\n\tbutton.addEventListener('click', ev => audioTest(ev, html));\n\tp.append(button);\n});\n", "import { CFG } from './config.mjs';\nimport { getPath } from './common.mjs';\nimport { Overlay } from './overlay.mjs';\nimport { updateAudioVolume, soundCfg, loadSound } from './audio.mjs';\n\n// Initialize settings\nHooks.once('init', () => {\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.volumeKey,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.VolumeLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.VolumeHint',\n\t\t\tscope: 'client',\n\t\t\tconfig: true,\n\t\t\ttype: Number,\n\t\t\trange: { min: 0.0, max: 100.0, step: 0.1 },\n\t\t\tdefault: 50.0,\n\t\t\tonChange: updateAudioVolume,\n\t\t}\n\t);\n\n\tfor (const [key, settings] of Object.entries(soundCfg)) {\n\t\tgame.settings.register(\n\t\t\tCFG.id,\n\t\t\tsettings.key,\n\t\t\t{\n\t\t\t\tname: `Koboldworks.ReadyUp.${key.capitalize()}Sfx`,\n\t\t\t\thint: `Koboldworks.ReadyUp.${key.capitalize()}SfxHint`,\n\t\t\t\tscope: 'world',\n\t\t\t\tconfig: true,\n\t\t\t\ttype: String,\n\t\t\t\tdefault: getPath(settings.default),\n\t\t\t\tfilePicker: true, // >=0.8.x file picker\n\t\t\t\tonChange: (v) => loadSound(key, v),\n\t\t\t}\n\t\t);\n\n\t\t// const sfx =\n\t\tloadSound(key, game.settings.get(CFG.id, settings.key));\n\t\t// console.log(\"READY UP | Registered sound:\", key, sfx.file);\n\t}\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.notifyKey,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.NotifyLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.NotifyHint',\n\t\t\tscope: 'client',\n\t\t\tconfig: true,\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t\tonChange: (value) => value ? Overlay.instance = new Overlay() : Overlay.delete()\n\t\t}\n\t);\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.lingerKey,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.LingerLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.LingerHint',\n\t\t\tscope: 'client',\n\t\t\tconfig: true,\n\t\t\ttype: Number,\n\t\t\trange: { min: 0.0, max: 25.0, step: 0.2 },\n\t\t\tdefault: 0.0,\n\t\t}\n\t);\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.stickyKey,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.StickyLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.StickyHint',\n\t\t\tscope: 'client',\n\t\t\tconfig: true,\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t}\n\t);\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.spamWardKey,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.SpamGuardLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.SpamGuardHint',\n\t\t\tscope: 'client',\n\t\t\tconfig: true,\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t}\n\t);\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.nextUpMessage,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.NextUpLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.NextUpHint',\n\t\t\tscope: 'world',\n\t\t\tconfig: true,\n\t\t\tdefault: 'Next Up!',\n\t\t\ttype: String,\n\t\t}\n\t);\n\n\tgame.settings.register(\n\t\tCFG.id,\n\t\tCFG.SETTINGS.turnStartMessage,\n\t\t{\n\t\t\tname: 'Koboldworks.ReadyUp.TurnStartLabel',\n\t\t\thint: 'Koboldworks.ReadyUp.TurnStartHint',\n\t\t\tscope: 'world',\n\t\t\tconfig: true,\n\t\t\tdefault: 'Your Turn!',\n\t\t\ttype: String\n\t\t}\n\t);\n});\n\nHooks.once('ready', () => {\n\tif (game.user.isGM) {\n\t\t// Migrate old variable usage\n\t\tconst msg0 = game.settings.get(CFG.id, CFG.SETTINGS.turnStartMessage),\n\t\t\tmsg0b = msg0.replace('${name}', '{name}'),\n\t\t\tmsg0m = msg0 !== msg0b;\n\t\tif (msg0m) game.settings.set(CFG.id, CFG.SETTINGS.turnStartMessage, msg0b);\n\t\tconst msg1 = game.settings.get(CFG.id, CFG.SETTINGS.nextUpMessage),\n\t\t\tmsg1b = msg1.replace('${name}', '{name}'),\n\t\t\tmsg1m = msg1 !== msg1b;\n\t\tif (msg1m) game.settings.set(CFG.id, CFG.SETTINGS.nextUpMessage, msg1b);\n\n\t\tif (msg1m || msg0m) {\n\t\t\tconst msg = 'READY UP | Data Migrated';\n\t\t\tconsole.log(msg);\n\t\t}\n\t}\n});\n", "/**\n * @compatibility v9/v10 cross-compatibility\n */\nexport const getDocData = (doc)=>game.release.generation >= 10 ? doc : doc.data;\n", "import { CFG } from './config.mjs';\nimport { Overlay } from './overlay.mjs';\nimport { audio } from './audio.mjs';\nimport { getDocData } from './compat.mjs';\n\nclass CombatStatus {\n\tid;\n\tround;\n\tcombatant;\n\tconstructor(combat) {\n\t\tthis.id = combat.id;\n\t\tthis.round = combat.round;\n\t\tthis.combatant = combat.combatant.id;\n\t}\n}\n\nlet /** @type {CombatStatus} */\n\tlastCombat = null,\n\t/** @type {CombatStatus} */\n\tlastTurn = null,\n\t/** @type {CombatStatus} */\n\tlastTurnAnticipation = null;\n\nfunction deleteCombatEvent() {\n\tOverlay.instance?.hide(); // Hide previous banner no matter what\n}\n\nasync function updateCombatEvent(combat, _update, _options, _userId) {\n\tconst combatData = getDocData(combat);\n\tif (!combatData.active) return;\n\tif (!combat.started) return;\n\n\tOverlay.instance?.hide(); // Hide previous banner\n\n\tconst spamGuard = game.settings.get(CFG.id, CFG.SETTINGS.spamWardKey);\n\tconst newCombatStatus = spamGuard ? new CombatStatus(combat) : null;\n\n\t// New Round\n\tif (combat.turn === 0) {\n\t\tif (!(lastCombat?.id === combat.id && lastCombat?.round === combat.round))\n\t\t\taudio.round?.play();\n\t\tlastCombat = newCombatStatus;\n\t}\n\n\tif (game.user.isGM) return; // GM doesn't need the rest\n\n\tconst combatant = combat.combatant,\n\t\tcurrentPlayer = combatant.actor?.isOwner ?? false;\n\n\t// Current player's turn\n\tif (currentPlayer) {\n\t\tif (combatant.isDefeated) return;\n\t\tif (!(lastTurn?.id === combat.id &&\n\t\t\tlastTurn?.round === combat.round &&\n\t\t\tlastTurn?.combatant === combatant.id)) {\n\t\t\taudio.turn?.play();\n\t\t\tOverlay.instance?.show({ now: true, dismissable: true, combatant });\n\t\t}\n\t\tlastTurn = newCombatStatus;\n\t\treturn;\n\t}\n\n\tif (combat.turns.length < 3) return; // don't bother with next up\n\n\tconst nextTurn = (combat.turn + 1) % combat.turns.length;\n\tconst nextCombatant = combat.turns[nextTurn];\n\n\tconst nextPlayer = nextCombatant.actor?.isOwner ?? false;\n\t// if (currentPlayer && nextPlayer) return; // same player for current and next turn\n\n\t// Current player is next\n\tif (nextPlayer) {\n\t\tif (nextCombatant.isDefeated) return;\n\t\tif (!(lastTurnAnticipation?.id === combat.id &&\n\t\t\tlastTurnAnticipation?.round === combat.round &&\n\t\t\tlastTurnAnticipation?.combatant === combat.combatant.id)) {\n\t\t\taudio.next?.play();\n\t\t\tOverlay.instance?.show({ now: false, dismissable: false, nextCombatant });\n\t\t}\n\t\tlastTurnAnticipation = newCombatStatus;\n\t}\n}\n\nexport async function assessActiveCombat({ sound = false } = {}) {\n\t// Unknown how well this works with multiple combats\n\tif (game.combats?.active)\n\t\tawait updateCombatEvent(game.combats.active);\n}\n\nfunction updateCombatantEvent(_combatant, update, _options, _userId) {\n\tif (update.initiative) {\n\t\tOverlay.instance?.hide();\n\t\tHooks.once('renderCombatTracker', assessActiveCombat); // assumption\n\t}\n}\n\nHooks.on('updateCombat', updateCombatEvent);\nHooks.on('updateCombatant', updateCombatantEvent);\nHooks.on('deleteCombat', deleteCombatEvent);\n", "import './setup.mjs';\nimport { CFG } from './config.mjs';\nimport { Overlay } from './overlay.mjs';\nimport { assessActiveCombat } from './combat.mjs';\n\nHooks.once('ready', async () => {\n\tif (game.settings.get(CFG.id, CFG.SETTINGS.notifyKey))\n\t\tOverlay.instance = new Overlay();\n\n\t// Prepare for on-load situation to make sure nothing is missed\n\tassessActiveCombat();\n\n\tconsole.log('READY UP | Ready!');\n});\n"],
  "mappings": "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",
  "names": []
}
